import{_ as T}from"./logo-Ft4BtHHg.js";import{d as C,h as $,i as b,j as R,c as l,l as m,a as t,e as i,w as f,u as s,R as _,F as M,r as V,t as o,n as v,g,a_ as j,aZ as A,o as c,f as B,x as D}from"./index-DY5TFfB9.js";import{u as I}from"./tenant-CLtnvmir.js";const L={class:"min-h-screen flex bg-gray-100"},P={class:"h-16 flex items-center justify-center border-b border-gray-200"},z={class:"mt-6 px-4"},O={class:"space-y-2"},U={key:0,class:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200"},E={class:"text-sm font-medium text-gray-900"},F={class:"flex-1 flex flex-col min-w-0"},W={class:"h-16 bg-white shadow-sm border-b border-gray-200 flex items-center justify-between px-4 lg:px-6"},Y={class:"flex-1 px-4"},Z={key:0,class:"flex items-center space-x-2"},q={class:"text-sm font-semibold text-violet-600 dark:text-violet-400"},G={class:"flex items-center space-x-4"},H={class:"relative"},J={class:"w-8 h-8 bg-violet-600 rounded-full flex items-center justify-center text-white font-medium"},K={class:"hidden md:block text-gray-700"},Q={class:"flex-1 overflow-y-auto p-4 lg:p-6"},ae=C({__name:"DashboardLayout",setup(X){const d=D(),a=$(),n=I(),p=b(!1),h=b(),y=[{label:"Profile",icon:"pi pi-user",command:()=>d.push("/app/profile")},{label:"Settings",icon:"pi pi-cog",command:()=>d.push("/app/settings")},{separator:!0},{label:"Sign Out",icon:"pi pi-sign-out",command:()=>N()}],w=[{name:"Dashboard",path:"/app",icon:"pi pi-home"},{name:"Appointments",path:"/app/appointments",icon:"pi pi-calendar"},{name:"Employees",path:"/app/employees",icon:"pi pi-users"},{name:"Services",path:"/app/services",icon:"pi pi-list"},{name:"Reports",path:"/app/reports",icon:"pi pi-chart-line"},{name:"Billing",path:"/app/billing",icon:"pi pi-credit-card"},{name:"Settings",path:"/app/settings",icon:"pi pi-cog"}];function k(r){h.value.toggle(r)}async function N(){await a.logout(),n.clearTenant(),d.push("/login")}function x(){p.value=!p.value}function S(r){const e=r.replace(/\D/g,"");return e.length===11&&e.startsWith("1")?`+1 (${e.slice(1,4)}) ${e.slice(4,7)}-${e.slice(7)}`:e.length===10?`(${e.slice(0,3)}) ${e.slice(3,6)}-${e.slice(6)}`:r}return R(async()=>{!a.user&&a.token&&await a.fetchUser(),await n.fetchTenants()}),(r,e)=>(c(),l("div",L,[p.value?(c(),l("div",{key:0,class:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:x})):m("",!0),t("aside",{class:v(["fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-200 ease-in-out lg:translate-x-0 lg:static lg:inset-0",p.value?"translate-x-0":"-translate-x-full"])},[t("div",P,[i(s(_),{to:"/app",class:"flex items-center"},{default:f(()=>[...e[0]||(e[0]=[t("img",{src:T,alt:"TONRIS",class:"h-8"},null,-1)])]),_:1})]),t("nav",z,[t("div",O,[(c(),l(M,null,V(w,u=>i(s(_),{key:u.path,to:u.path,class:"flex items-center px-4 py-3 text-gray-700 rounded-lg hover:bg-violet-50 hover:text-violet-600 transition-colors","active-class":"bg-violet-50 text-violet-600"},{default:f(()=>[t("i",{class:v([u.icon,"mr-3"])},null,2),B(" "+o(u.name),1)]),_:2},1032,["to"])),64))])]),s(n).currentTenant?(c(),l("div",U,[e[1]||(e[1]=t("div",{class:"text-xs text-gray-500 uppercase tracking-wide mb-1"},"Current Workspace",-1)),t("div",E,o(s(n).tenantName),1)])):m("",!0)],2),t("div",F,[t("header",W,[i(s(g),{icon:"pi pi-bars",text:"",class:"lg:hidden",onClick:x,"aria-label":"Toggle menu"}),t("div",Y,[s(n).currentTenant?.twilioPhoneNumber?(c(),l("div",Z,[e[2]||(e[2]=t("i",{class:"pi pi-phone text-violet-600"},null,-1)),e[3]||(e[3]=t("span",{class:"text-sm font-medium text-surface-700 dark:text-surface-300"}," Your AI phone #: ",-1)),t("span",q,o(S(s(n).currentTenant.twilioPhoneNumber)),1)])):m("",!0)]),t("div",G,[i(s(g),{icon:"pi pi-bell",text:"",badge:"3","badge-severity":"danger","aria-label":"Notifications"}),t("div",H,[i(s(g),{text:"",class:"flex items-center space-x-2",onClick:k},{default:f(()=>[t("div",J,o(s(a).user?.firstName?.charAt(0)||"U"),1),t("span",K,o(s(a).user?.firstName||"")+" "+o(s(a).user?.lastName||""),1),e[4]||(e[4]=t("i",{class:"pi pi-chevron-down text-gray-500"},null,-1))]),_:1}),i(s(j),{ref_key:"userMenu",ref:h,model:y,popup:""},null,512)])])]),t("main",Q,[i(s(A))])])]))}});export{ae as default};
