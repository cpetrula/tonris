import{d as E,i as m,E as V,j as z,c as n,a as t,k as h,l as w,e as c,w as d,u as r,m as F,s as f,o as i,f as y,t as a,F as v,r as b,g as u,n as _,I as Y,S as j}from"./index-ONKnGfLK.js";const L={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},T={class:"flex items-center justify-between"},H={class:"flex flex-col md:flex-row md:items-center md:justify-between mb-6"},q={class:"text-2xl font-bold text-gray-900"},G={class:"text-gray-500"},J={class:"mt-4 md:mt-0 text-right"},K={class:"font-medium text-gray-900"},O={class:"border-t border-gray-200 pt-4"},Q={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},R={class:"mt-6 flex gap-3"},W={key:0,class:"mb-4"},X={class:"flex items-center p-4 bg-gray-50 rounded-lg"},Z={class:"font-medium text-gray-900 capitalize"},tt={class:"text-sm text-gray-500"},et={key:1,class:"text-center py-4 text-gray-500"},st={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},at={key:0,class:"absolute -top-3 left-1/2 -translate-x-1/2 bg-violet-500 text-white px-3 py-1 rounded-full text-xs font-medium"},it={class:"text-xl font-bold text-gray-900 mb-1"},lt={class:"text-gray-500 text-sm mb-4"},nt={class:"mb-4"},rt={class:"text-3xl font-bold text-gray-900"},ot={class:"space-y-2 mb-6"},ct={class:"flex items-center justify-between"},dt={class:"overflow-x-auto"},ut={class:"min-w-full"},pt={class:"py-3 px-4 font-medium text-gray-900"},mt={class:"py-3 px-4 text-gray-600"},yt={class:"py-3 px-4 text-gray-900"},xt={class:"py-3 px-4"},gt={class:"py-3 px-4 text-right"},ft={key:0,class:"text-center py-8 text-gray-500"},_t=E({__name:"BillingPage",setup(vt){const k=m(!1),C=m(""),o=m({plan:"Professional",status:"active",billingCycle:"monthly",price:99,nextBillingDate:"2024-02-15",features:["Unlimited calls","24/7 AI answering","Appointment booking","Calendar integration","Email notifications","Basic analytics"]}),B=m([{id:"starter",name:"Starter",price:49,priceYearly:39,description:"Perfect for small businesses",features:["Up to 100 calls/month","Business hours coverage","Basic scheduling","Email support"],current:!1},{id:"professional",name:"Professional",price:99,priceYearly:79,description:"Most popular for growing businesses",features:["Unlimited calls","24/7 AI answering","Appointment booking","Calendar integration","Email notifications","Basic analytics"],current:!0},{id:"enterprise",name:"Enterprise",price:249,priceYearly:199,description:"For large organizations",features:["Everything in Professional","Multiple locations","Advanced analytics","Custom voice options","Dedicated account manager","Priority support","API access"],current:!1}]),S=m([{id:"1",type:"card",brand:"visa",last4:"4242",expiryMonth:12,expiryYear:2025,isDefault:!0}]),P=m([{id:"1",number:"INV-2024-001",date:"2024-01-15",amount:99,status:"paid",pdfUrl:"#"},{id:"2",number:"INV-2023-012",date:"2023-12-15",amount:99,status:"paid",pdfUrl:"#"},{id:"3",number:"INV-2023-011",date:"2023-11-15",amount:99,status:"paid",pdfUrl:"#"}]),p=V(()=>S.value.find(l=>l.isDefault));function D(l){return new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}function A(l){return`$${l.toFixed(2)}`}function I(l){return{visa:"pi pi-credit-card",mastercard:"pi pi-credit-card",amex:"pi pi-credit-card"}[l]||"pi pi-credit-card"}function M(l){return{paid:"bg-green-100 text-green-700",pending:"bg-yellow-100 text-yellow-700",failed:"bg-red-100 text-red-700"}[l]||"bg-gray-100 text-gray-700"}async function x(){alert("This would redirect to Stripe Customer Portal in production")}async function N(l){confirm("Are you sure you want to change your plan?")&&alert(`Plan change to ${l} would be processed in production`)}async function $(l){alert(`Downloading invoice ${l.number}...`)}return z(async()=>{k.value=!0,k.value=!1}),(l,e)=>{const U=j("tooltip");return i(),n("div",null,[e[10]||(e[10]=t("div",{class:"mb-6"},[t("h1",{class:"text-2xl font-bold text-gray-900"},"Billing & Subscription"),t("p",{class:"text-gray-600 mt-1"},"Manage your subscription plan and payment methods")],-1)),C.value?(i(),h(r(F),{key:0,severity:"error",class:"mb-6"},{default:d(()=>[y(a(C.value),1)]),_:1})):w("",!0),t("div",L,[c(r(f),{class:"shadow-sm lg:col-span-2"},{title:d(()=>[t("div",T,[e[0]||(e[0]=t("span",null,"Current Plan",-1)),t("span",{class:_(["px-3 py-1 rounded-full text-sm font-medium",o.value.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"])},a(o.value.status==="active"?"Active":"Inactive"),3)])]),content:d(()=>[t("div",H,[t("div",null,[t("h3",q,a(o.value.plan),1),t("p",G," $"+a(o.value.price)+"/"+a(o.value.billingCycle==="monthly"?"month":"year"),1)]),t("div",J,[e[1]||(e[1]=t("p",{class:"text-sm text-gray-500"},"Next billing date",-1)),t("p",K,a(D(o.value.nextBillingDate)),1)])]),t("div",O,[e[3]||(e[3]=t("h4",{class:"font-medium text-gray-900 mb-3"},"Plan Features",-1)),t("ul",Q,[(i(!0),n(v,null,b(o.value.features,s=>(i(),n("li",{key:s,class:"flex items-center text-gray-600"},[e[2]||(e[2]=t("i",{class:"pi pi-check text-green-500 mr-2"},null,-1)),y(" "+a(s),1)]))),128))])]),t("div",R,[c(r(u),{label:"Manage Subscription",icon:"pi pi-external-link",onClick:x}),c(r(u),{label:"Cancel Subscription",severity:"danger",text:"",onClick:x})])]),_:1}),c(r(f),{class:"shadow-sm"},{title:d(()=>[...e[4]||(e[4]=[y("Payment Method",-1)])]),content:d(()=>[p.value?(i(),n("div",W,[t("div",X,[t("i",{class:_([I(p.value.brand),"text-2xl text-gray-600 mr-3"])},null,2),t("div",null,[t("p",Z,a(p.value.brand)+" •••• "+a(p.value.last4),1),t("p",tt," Expires "+a(p.value.expiryMonth)+"/"+a(p.value.expiryYear),1)])])])):(i(),n("div",et," No payment method on file ")),c(r(u),{label:"Update Payment Method",icon:"pi pi-credit-card",outlined:"",class:"w-full",onClick:x})]),_:1})]),c(r(f),{class:"shadow-sm mt-6"},{title:d(()=>[...e[5]||(e[5]=[y("Available Plans",-1)])]),content:d(()=>[t("div",st,[(i(!0),n(v,null,b(B.value,s=>(i(),n("div",{key:s.id,class:_(["border-2 rounded-xl p-6 relative",s.current?"border-violet-500 bg-violet-50":"border-gray-200"])},[s.current?(i(),n("div",at," Current Plan ")):w("",!0),t("h3",it,a(s.name),1),t("p",lt,a(s.description),1),t("div",nt,[t("span",rt,"$"+a(s.price),1),e[6]||(e[6]=t("span",{class:"text-gray-500"},"/month",-1))]),t("ul",ot,[(i(!0),n(v,null,b(s.features,g=>(i(),n("li",{key:g,class:"flex items-start text-sm text-gray-600"},[e[7]||(e[7]=t("i",{class:"pi pi-check text-green-500 mr-2 mt-0.5"},null,-1)),y(" "+a(g),1)]))),128))]),s.current?(i(),h(r(u),{key:2,label:"Current Plan",severity:"secondary",disabled:"",class:"w-full"})):(i(),h(r(u),{key:1,label:s.price>o.value.price?"Upgrade":"Downgrade",severity:s.price>o.value.price?"primary":"secondary",outlined:s.price<o.value.price,class:"w-full",onClick:g=>N(s.id)},null,8,["label","severity","outlined","onClick"]))],2))),128))])]),_:1}),c(r(f),{class:"shadow-sm mt-6"},{title:d(()=>[t("div",ct,[e[8]||(e[8]=t("span",null,"Billing History",-1)),c(r(u),{label:"View All in Stripe",text:"",size:"small",onClick:x})])]),content:d(()=>[t("div",dt,[t("table",ut,[e[9]||(e[9]=t("thead",null,[t("tr",{class:"border-b border-gray-200"},[t("th",{class:"text-left py-3 px-4 text-sm font-medium text-gray-500"},"Invoice"),t("th",{class:"text-left py-3 px-4 text-sm font-medium text-gray-500"},"Date"),t("th",{class:"text-left py-3 px-4 text-sm font-medium text-gray-500"},"Amount"),t("th",{class:"text-left py-3 px-4 text-sm font-medium text-gray-500"},"Status"),t("th",{class:"text-right py-3 px-4 text-sm font-medium text-gray-500"},"Action")])],-1)),t("tbody",null,[(i(!0),n(v,null,b(P.value,s=>(i(),n("tr",{key:s.id,class:"border-b border-gray-100 last:border-0"},[t("td",pt,a(s.number),1),t("td",mt,a(D(s.date)),1),t("td",yt,a(A(s.amount)),1),t("td",xt,[t("span",{class:_(["px-2 py-1 rounded-full text-xs font-medium capitalize",M(s.status)])},a(s.status),3)]),t("td",gt,[Y(c(r(u),{icon:"pi pi-download",text:"",size:"small",severity:"secondary",onClick:g=>$(s)},null,8,["onClick"]),[[U,"Download PDF",void 0,{top:!0}]])])]))),128))])])]),P.value.length===0?(i(),n("div",ft," No invoices yet ")):w("",!0)]),_:1})])}}});export{_t as default};
